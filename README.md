# Сервис сбора метрик и алертинга.

## Основные команды собраны в Makefile

### Конфигурация сервера

#### Флаги
```
-host - имя хоста
-port - номер порта
-a - адрес сервера
-l - уровень логирования(info по умолчанию)
-i - интервал для сохранения метрик в секундах(300 по умолчанию)
-f - путь к файлу для сохранения метрик
-r - восстановление метрик из файла при запуске сервера(true по умолчанию)
-d - адрес БД(прим. "postgres://postgres:postgres@postgres:5432/praktikum?sslmode=disable")
-k - ключ шифрования

```
#### Переменные окружения
```
ADDRESS - адрес сервера
LOG_LEVEL - уровень логирования(info по умолчанию)
STORE_INTERVAL - интервал для сохранения метрик в секундах(300 по умолчанию)
FILE_STORAGE_PATH - путь к файлу для сохранения метрик
RESTORE - восстановление метрик из файла при запуске сервера(true по умолчанию)
DATABASE_DSN - адрес БД(прим. "postgres://postgres:postgres@postgres:5432/praktikum?sslmode=disable")
KEY - ключ шифрования
```

### Конфигурация агента

#### Флаги
```
-host - имя хоста
-port - номер порта
-a - адрес сервера
-r - интервал отправки метрик в секундах(10 по умолчанию)
-p - интервал обновления метрик в секундах(2 по умолчанию)
-l - лимит одновременно исходящих запросов для отправки(10 по умолчанию)
-k - ключ шифрования
```

#### Переменные окружения
```
ADDRESS - адрес сервера
REPORT_INTERVAL - интервал отправки метрик в секундах(10 по умолчанию)
POLL_INTERVAL - интервал обновления метрик в секундах(2 по умолчанию)
RATE_LIMIT - лимит одновременно исходящих запросов для отправки(10 по умолчанию)
KEY - ключ шифрования
```